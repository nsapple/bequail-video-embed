<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>YouTube Fullscreen Player</title>
</head>
<body>
  <div id="ui">
    <input id="ytUrl" type="text" placeholder="Paste YouTube link...">
    <button onclick="playVideo()">Play</button>
  </div>

  <div id="videoContainer" style="display:none; width:100vw; height:100vh; margin:0; padding:0;"></div>

  <script>
    function playVideo() {
      const input = document.getElementById('ytUrl');
      const url = input.value.trim();
      if (!url) return;

      let id;
      try {
        id = new URL(url).searchParams.get('v');
        if (!id) {
          const match = url.match(/youtu\.be\/([A-Za-z0-9_-]+)/);
          id = match ? match[1] : null;
        }
      } catch {
        alert('Invalid YouTube URL');
        return;
      }

      if (!id) {
        alert('Invalid YouTube URL');
        return;
      }

      const embed = "https://www.youtube.com/embed/" + id + "?autoplay=1&playsinline=1";
      const frame = document.createElement('iframe');
      frame.src = embed;
      frame.allow = "autoplay; fullscreen; encrypted-media";
      frame.frameBorder = "0";
      frame.width = "100%";
      frame.height = "100%";
      frame.style.margin = "0";
      frame.style.padding = "0";

      const container = document.getElementById('videoContainer');
      container.appendChild(frame);

      document.getElementById('ui').style.display = 'none';
      container.style.display = 'block';

      enterFullscreen(document.documentElement);
    }

    function enterFullscreen(elem) {
      if (elem.requestFullscreen) elem.requestFullscreen();
      else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
      else if (elem.msRequestFullscreen) elem.msRequestFullscreen();
    }

    document.addEventListener("fullscreenchange", function() {
      if (!document.fullscreenElement) {
        enterFullscreen(document.documentElement);
      }
    });
  </script>
</body>
</html>
